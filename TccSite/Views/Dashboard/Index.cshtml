@model IEnumerable<TccSite.Domain.Entities.Alerta>
@{
    Layout = "_Layout";
}
<style>
    #container {
        width: 100%;
        height: 400px;
    }
</style>

<div class="container-fluid d-flex">
    <div class="alertas p-2 flex-fill">
        <div class="descricao_alertas">
            @foreach (var alerta in Model)
            {
                var cor = alerta.StatusAlerta switch
                {
                    TccSite.Domain.Enums.StatusAlertaEnum.Critico => "bg-danger text-medium",
                    TccSite.Domain.Enums.StatusAlertaEnum.Alto => "bg-danger bg-opacity-75 text-medium",
                    TccSite.Domain.Enums.StatusAlertaEnum.Medio => "bg-warning",
                    TccSite.Domain.Enums.StatusAlertaEnum.Baixo => "bg-success text-medium",
                    _ => "bg-secondary"
                };

                <div class="card mb-2 shadow-sm">
                    <div class="card-body @cor">
                        <h5 class="card-title">@alerta.NomeAlerta - @alerta.StatusAlerta</h5>
                        <h6 class="card-subtitle mb-2 text-body-secondary">
                            @alerta.DataCadastro
                        </h6>
                        <p class="card-text">
                            @alerta.Descricao
                        </p>
                        <a href="#" class="card-link text-white fw-bold " onclick="detalhesAlertas(); return false">
                            Ver detalhes
                        </a>
                    </div>
                </div>
            }
        </div>
    </div>
</div>

<div class="card p-2 m-3 flex-fill overflow-auto rounded-1">
    <div class="card-body">
        <div class="container">
            <h1 class="text-center">Gráfico do nível do rio</h1>
            <figure class="highcharts-figure">
                <div id="container"></div>
            </figure>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js" asp-append-version="true"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11" asp-append-version="true"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
<script src="/js/dashboard.js"></script>